model ChatSession {
  id           String        @id
  title        String        @default("新对话") /// @zod.min(1)
  isUserRename Boolean       @default(false)
  isPin        Boolean       @default(false)
  errorMessage String? /// Error message for last failed request.
  sessionPreface String? /// Session preface text for chat history and model context.
  createdAt    DateTime      @default(now())
  updatedAt    DateTime      @updatedAt
  workspaceId  String? /// Workspace id.
  projectId    String? /// Project id.
  boardId      String? /// Board id.
  cliId        String? /// CLI thread id formatted as {cliType}_{threadId}.
  deletedAt    DateTime? /// @zod.optional()
  messageCount Int           @default(0)

  @@index([deletedAt])
  @@index([deletedAt, createdAt])
  @@index([isPin, updatedAt])
  @@unique([cliId])
}
