{
  "name": "desktop",
  "productName": "OpenLoaf",
  "version": "0.2.1",
  "description": "OpenLoaf desktop app",
  "main": ".webpack/main",
  "build": {
    "productName": "OpenLoaf",
    "appId": "com.hexems.openloaf",
    "directories": {
      "output": "dist"
    },
    "linux": {
      "target": [
        "AppImage"
      ]
    },
    "win": {
      "icon": "resources/icon.ico",
      "target": [
        "nsis"
      ]
    },
    "nsis": {
      "oneClick": false,
      "perMachine": false,
      "allowToChangeInstallationDirectory": true,
      "shortcutName": "OpenLoaf",
      "artifactName": "${productName}_Installer_${version}.${ext}"
    },
    "files": [
      ".webpack/**/*",
      "package.json"
    ],
    "extraResources": [
      {
        "from": "out/OpenLoaf-win32-x64/resources/node_modules",
        "to": "node_modules",
        "filter": [
          "**/*"
        ]
      },
      {
        "from": "out/OpenLoaf-win32-x64/resources",
        "to": ".",
        "filter": [
          "server.mjs",
          "seed.db",
          "out/**/*",
          "speech/**/*",
          "runtime.env",
          "server.package.json",
          "web.package.json",
          "prebuilds/**/*"
        ]
      }
    ]
  },
  "scripts": {
    "predesktop": "node scripts/fixElectronInstall.mjs && pnpm run build:speech-helper && pnpm run build:calendar-helper",
    "desktop": "electron-forge start",
    "build:speech-helper": "node scripts/buildSpeechHelper.mjs",
    "build:calendar-helper": "node scripts/buildCalendarHelper.mjs",
    "package": "pnpm run predesktop && pnpm --filter server run build:prod && pnpm --filter web run build --webpack && electron-forge package",
    "package:ci": "pnpm run predesktop && electron-forge package",
    "dist:mac": "pnpm run package && node scripts/dist.mjs --mac",
    "dist:mac:ci": "pnpm run package:ci && node scripts/dist.mjs --mac",
    "dist:mac:dev": "pnpm run package && node scripts/dist.mjs --mac --config.mac.identity=null",
    "dist:win": "pnpm run package && node scripts/dist.mjs --win --config.npmRebuild=false",
    "dist:win:ci": "pnpm run package:ci && node scripts/dist.mjs --win --config.npmRebuild=false",
    "dist:linux": "pnpm run package && node scripts/dist.mjs --linux",
    "dist:linux:ci": "pnpm run package:ci && node scripts/dist.mjs --linux",
    "dist:linux:dev": "pnpm run package && node scripts/dist.mjs --linux --config.mac.identity=null",
    "dist:resign": "node scripts/dist.mjs",
    "publish-update:mac": "node scripts/publish-update.mjs",
    "check-types": "pnpm -w exec tsc -p apps/desktop/tsconfig.json --noEmit",
    "lint": "eslint src"
  },
  "author": {
    "name": "zz@hexems.com",
    "email": "torykit@torykit.com"
  },
  "dependencies": {
    "@openloaf/api": "workspace:*",
    "@openloaf/config": "workspace:*",
    "electron-updater": "^6.7.3",
    "pino": "^10.3.0",
    "serve-handler": "^6.1.6"
  },
  "devDependencies": {
    "@electron-forge/cli": "^7.11.1",
    "@electron-forge/maker-dmg": "^7.11.1",
    "@electron-forge/maker-zip": "^7.11.1",
    "@electron-forge/plugin-webpack": "^7.11.1",
    "@electron-forge/shared-types": "^7.11.1",
    "dotenv-cli": "^11.0.0",
    "electron": "40.1.0",
    "electron-builder": "^24.13.3",
    "electron-devtools-installer": "^4.0.0",
    "ts-loader": "^9.5.4",
    "typescript": "catalog:"
  }
}
